<!DOCTYPE HTML>
<!--
 Solarize by TEMPLATED
 templated.co @templatedco
 Released for free under the Creative Commons Attribution 3.0 license (templated.co/license)
-->
<html>
 <head>
  <title>Principles of Programming Languages</title>
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <meta name="description" content="" />
  <meta name="keywords" content="" />
  <!--[if lte IE 8]><script src="/pl/css/ie/html5shiv.js"></script><![endif]-->
  <script src="/pl/js/jquery.min.js"></script>
  <script src="/pl/js/jquery.dropotron.min.js"></script>
  <script src="/pl/js/skel.min.js"></script>
  <script src="/pl/js/skel-layers.min.js"></script>
  <script src="/pl/js/init.js"></script>
  <noscript>
   <link rel="stylesheet" href="/pl/css/skel.css" />
   <link rel="stylesheet" href="/pl/css/style.css" />
  </noscript>
  <!--[if lte IE 8]><link rel="stylesheet" href="/pl/css/ie/v8.css" /><![endif]-->
 </head>
 <body>

  <!-- Header Wrapper -->
   <div class="wrapper style1">
   
   <!-- Header -->
    <div id="header">
     <div class="container">
       
      <!-- Logo -->
       <h1><a href="/pl/index.html" id="logo">Principles of PL</a></h1>
      
      <!-- Nav -->
       <nav id="nav">
        <ul>
         <li class="active"><a href="/pl/index.html">Home</a></li>
         <li>
          <a href="/pl/logistics.html">Logistics</a>
          <ul class="menu">
          <li><a href="/pl/logistics.html">Overview</a></li>
           <li><a href="/pl/dateline.html">Dateline</a></li>
           <li><a href="https://gradescope.com">Gradescope</a></li>
           <li><a href="https://courselore.org/courses/8683833116">Q&amp;A</a></li>
           <li><a href="/pl/contact.html">Contact Us</a></li>
          </ul>
         </li>
         <li><a href="/pl/book">The Book</a>
         <ul class="menu">
         <li><a href="/pl/book/book.pdf">The book PDF</a></li>
         <li><a href="/pl/book/dist/">The FbDK dist</a></li>
       </ul></li>

         <li><a href="/pl/ocaml/index.html">OCaml</a>
         </li>
         <li><a href="">Assignments</a>
         <ul class="menu">
         <li><a href="/pl/assignments/assignment1.html">Assignment 1</a></li>
         <li><a href="/pl/assignments/assignment2.html">Assignment 2</a></li>
         <li><a href="/pl/assignments/assignment3.html">Assignment 3</a></li>
         <li><a href="/pl/assignments/assignment4.html">Assignment 4</a></li>
         <li><a href="/pl/assignments/assignment5.html">Assignment 5</a></li>
         <li><a href="/pl/assignments/assignment6.html">Assignment 6</a></li>
         <li><a href="/pl/assignments/assignment7.html">Assignment 7</a></li>
         <li><a href="/pl/assignments/assignment8.html">Assignment 8</a></li>
         <li><a href="/pl/assignments/assignment9.html">Assignment 9</a></li>
       </ul></li>
        </ul>
       </nav>
 
     </div>
    </div>
<!-- close-out code before the standard footer .. use to glue in raw html. -->
</div>
<!-- Main -->
<div id="main" class="wrapper style4">
<!-- Content -->
<div id="content" class="container">
<section>

<link rel="stylesheet" href="/pl/css/friendly.css" />
<meta charset="utf-8" />
    <h3 id="ocaml-lecture-information">OCaml Lecture Information</h3>

<ul>
  <li><a href="lecture.html">lecture.html</a>, the file we work through interactively in class.</li>
  <li>For the separate compilation topic we cover <a href="set-example.zip">this example (zipped)</a></li>
</ul>

<h3 id="our-ml-dialect">Our ML Dialect</h3>

<p>We will use <a href="http://ocaml.org">OCaml</a>, version 4.14.1.</p>

<h3 id="installing-ocaml-4141">Installing OCaml 4.14.1</h3>

<p>We require that you use the <a href="https://opam.ocaml.org">opam packaging system</a> for installing OCaml and its extensions.  Once you get <code>opam</code> installed and working, everything else should be easy to install .. so the only hard part is the first step.</p>

<ul>
  <li>For Linux or Mac see <a href="https://opam.ocaml.org/doc/Install.html">The OPAM install page</a> for install instructions.</li>
  <li>For Mac users, the above requires <a href="https://brew.sh">Homebrew</a> (a package manager for Linux-ish libraries) so here is a more detailed suggestion of some copy/paste that should work.
    <ul>
      <li>Mac without homebrew installed:
        <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code> /bin/bash <span class="nt">-c</span> <span class="s2">"</span><span class="si">$(</span>curl <span class="nt">-fsSL</span> https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh<span class="si">)</span><span class="s2">"</span>
</code></pre></div>        </div>
        <p>will install Homebrew</p>
      </li>
      <li>Mac with Homebrew (make sure you first do a <code>brew update</code> before this): <code>brew install gpatch; brew install opam</code></li>
    </ul>
  </li>
  <li>For Windows you should use WSL2, the Windows Subsystem for Linux.  It creates a Linux-like system from within Windows.
    <ul>
      <li>Once you install <a href="https://docs.microsoft.com/en-us/windows/wsl/">WSL 2</a> you will be able to follow the Linux Ubuntu install instructions linked above.
        <ul>
          <li>Note that your WSL2 Ubuntu needs the C compiler and tools for the <code>opam</code> install to work; the following Linux shell command will get you those: <code>sudo apt install make m4 gcc unzip bubblewrap</code>.</li>
          <li>You can still use your Windows install of VSCode to edit files by using the <a href="https://docs.microsoft.com/en-us/windows/wsl/tutorials/wsl-vscode">VSCode Remote WSL Extension</a> – it will connect the Windows editor to the underlying WSL2 subsystem.  See below where VSCode is described for details on how to set this up.</li>
        </ul>
      </li>
      <li>WSL2 has been working well for most people, but another option is to set up a Linux VM on your Windows box, and then set up a Linux install of OCaml within the VM.  There are many good tutorials on how to build a Linux VM, <a href="https://www.lifewire.com/run-ubuntu-within-windows-virtualbox-2202098">here is one of them</a>.  Once your virtual Linux box is set up, you can follow the <code>opam</code> Linux install instructions.</li>
    </ul>
  </li>
</ul>

<h3 id="initial-setup-of-opam">Initial setup of <code>opam</code></h3>
<ul>
  <li>You will then need to run some terminal commands to set up the basics:
    <ol>
      <li><code>opam init</code> to initialize OPAM (we suggest you answer <code>y</code> to the question <code>Do you want opam to modify ~/.profile? [N/y/f]</code>);</li>
      <li>If you didn’t get that question or said <code>N</code>, you will need to add line, <code>eval $(opam env)</code>, to your <code>~/.bash_profile</code> or <code>~/.profile</code> or <code>~/.bashrc</code> shell init file (add to the first one of these files that exists already) as you would need to do that in every new terminal window otherwise. If you are using <code>zsh</code> on macs, add line <code>eval `opam env`</code> instead to your <code>~/.zshrc</code> file.</li>
      <li>Type command <code>eval $(opam env)</code> to your shell to let it know where the opam files are (zsh users on Macs type <code>eval `opam env`</code> instead)</li>
      <li>Type <code>opam update &amp;&amp; opam switch create 4.14.1</code> (this will take awhile) to build OCaml version 4.14.1.</li>
    </ol>
  </li>
  <li>If you already have an earlier version of OCaml installed via <code>opam</code>, you should only need to run the last line. Note if you took FPSE you need to also follow all the configuration steps below as they are different and the OCaml version is different.</li>
</ul>

<h3 id="configuring-ocaml">Configuring OCaml</h3>

<p>Once you have OCaml 4.14.1 installed, run the following <code>opam</code> command in the terminal to install additional necessary packages used in the class:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>opam <span class="nb">install </span>ocp-indent ocaml-lsp-server menhir utop ppx_deriving ounit2
</code></pre></div></div>

<p>Lastly, edit the file <code>~/.ocamlinit</code> to add the line</p>
<div class="language-ocaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">#</span><span class="n">use</span> <span class="s2">"topfind"</span><span class="p">;;</span>
</code></pre></div></div>
<p>if it is not already in the file.  The contents of this file are entered in the top loop when it starts.  Here is an easy one-liner you can copy/paste into your terminal to set that file up:</p>
<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">echo</span> <span class="s1">'#use "topfind";;'</span>  <span class="o">&gt;</span> ~/.ocamlinit
</code></pre></div></div>

<h3 id="ocaml-with-the-pl-book-fbdk">OCaml with the PL Book FbDK</h3>

<p>See the <a href="../book/dist/fbdk/README.md">FbDK README</a> for information on how to use the FbDK.  We will not use it on the first several assignments.</p>

<h3 id="the-official-ocaml-manual">The Official OCaml Manual</h3>

<p>The OCaml manual is <a href="https://ocaml.org/manual/">here</a>.</p>
<ul>
  <li>We will cover most of the topics in Part I Chapters 1 and 2 from the manual.</li>
  <li>Manual Chapter 7 is the language reference where you can look up details if needed.</li>
  <li>Part III of the manual documents the tools, we will not be using much of this because third parties have improved on many of the tools and we will instead use those versions.</li>
  <li>Part IV describes the standard libraries, which we will make some use of.
    <ul>
      <li>The <a href="https://ocaml.org/manual/core.html">Core Library</a> chapter describes standard types and exceptions built into OCaml, and the <a href="https://ocaml.org/api/Stdlib.html">Stdlib module</a> referenced there includes all basic int/bool/float/string/etc operations such as <code>&lt;</code>, <code>mod</code>, etc which are always available.</li>
      <li>The <a href="https://ocaml.org/manual/stdlib.html">Standard Library</a> chapter includes standard data structures such as hashtables and stacks as well as library operations for lists, arrays, strings, printing, etc.</li>
    </ul>
  </li>
</ul>

<h3 id="our-ocaml-toolbox">Our OCaml Toolbox</h3>

<p>Here are all the tools we will be using.  You are required to have a build for which all these tools work, and the above <code>opam</code> one-liner should install them all.</p>

<ul>
  <li><a href="https://opam.ocaml.org"><code>opam</code></a> is the package management system.  See above for install and setup instructions.</li>
  <li><a href="https://opam.ocaml.org/blog/about-utop/"><code>utop</code></a> is the read/eval/print loop we will be using.  It is a replacement for the original <a href="http://caml.inria.fr/pub/docs/manual-ocaml/toplevel.html"><code>ocaml</code></a> command, with many more features such as command history, replay, etc.</li>
  <li><a href="https://dune.build"><code>dune</code></a> is the build tool (think <code>make</code>) that we will be using.</li>
  <li><a href="https://github.com/gildor478/ounit">OUnit</a> is the unit tester for OCaml.  The opam package is called <code>ounit2</code> for obscure reasons.</li>
</ul>

<h3 id="development-environments-for-ocaml">Development Environments for OCaml</h3>

<p>We strongly recommend VSCode since it has OCaml-specific features such as syntax highlighting, auto-indent, and lint analysis to make the coding process much smoother.</p>

<p><strong><a href="https://code.visualstudio.com">Visual Studio Code</a></strong></p>

<p>VSCode has very good OCaml support and is the “officially recommended editor”.</p>

<ul>
  <li>
    <p>To make VSCode OCaml-aware you will need to install the <strong>OCaml Platform</strong>.   To install it, from the <code>View</code> menu select <code>Extensions</code>, and type OCaml in the search box and this extension will show up: select <strong>OCaml Platform</strong> from the list.</p>
  </li>
  <li>
    <p>You can easily run a <code>utop</code> shell from within VSCode, just open up a shell from the <code>Terminal</code> menu and type <code>utop</code>.</p>
  </li>
  <li>
    <p>If you are on Windows and using WSL2, you need to run Visual Studio “in WSL2 space” to get OCaml syntax highlighting and other nice features. See the <a href="https://docs.microsoft.com/en-us/windows/wsl/tutorials/wsl-vscode">Remote WSL Extension Docs</a> for details on how to set up the VSCode-WSL2 connection.  If you are having trouble look at the <a href="https://docs.microsoft.com/en-us/windows/wsl/tutorials/wsl-vscode#additional-resources">Additional Resources</a> on that page.  Once you have the above set up, install the OCaml Platform as described above and you should have syntax highlighting etc working.</p>
  </li>
</ul>

<p><strong>vim</strong>: If you use <code>vim</code>, my condolances as it is woefully behind the times in spite of many band-aids added over the years.  Still, if you have been brainwashed to believe it is good, type shell commands <code>opam install merlin user-setup</code> and <code>opam user-setup install</code> after doing the above  default <code>opam</code> install to set up syntax highlighting, tab completion, displaying types, etc. See <a href="https://github.com/ocaml/merlin/blob/master/vim/merlin/doc/merlin.txt">here</a> for some dense documentation.</p>

<p><strong>emacs</strong>: See vim. Note you will need to also <code>opam install tuareg</code> to get emacs to work, and follow the instructions the install prints out.</p>

<h3 id="coding-style">Coding Style</h3>

<ul>
  <li>The <a href="http://pl.cs.jhu.edu/fpse/style-guide.html">FPSE Style Guide</a> is the standard we will adhere to in the class; it follows general best practices for modern OCaml.</li>
</ul>

<h3 id="example-worked-ocaml-exercises">Example Worked OCaml Exercises</h3>
<p>Looking at other people’s code is a good way to learn good coding practices.</p>

<ul>
  <li><a href="https://exercism.io/tracks/ocaml/exercises">Exercism OCaml Track</a> has a large set of programming problems to solve which have solutions by many other programmers as well.</li>
  <li><a href="https://ocaml.org/learn/tutorials/99problems.html">99 problems</a> solves 99 basic OCaml tasks.</li>
  <li><a href="https://ocaml-sf.org/learn-ocaml-public/#activity%3Dexercises">Learn OCaml</a> has a large number of exercises to solve.  The <a href="https://github.com/ocaml-sf/learn-ocaml-corpus/tree/master/exercises">solutions are online</a>.</li>
</ul>

<h3 id="other-resources">Other Resources</h3>

<ul>
  <li><a href="https://www.cs.cornell.edu/courses/cs3110/2020sp/textbook/">Cornell cs3110 book</a> is another course which uses OCaml; it is more focused on programming and less on PL theory than this class is.</li>
  <li><a href="http://ocaml.org">ocaml.org</a> is the home of OCaml for finding downloads, documentation, etc. The <a href="http://ocaml.org/learn/tutorials/">tutorials</a> are also very good and there is a page of <a href="http://ocaml.org/learn/books.html">books</a>.</li>
  <li>The <a href="https://www.youtube.com/playlist?list=PLea0WJq13cnCef-3KSU3qWFge9OGUlKx1">OCaml Youtube Tutorial</a> if you like watching videos to learn things.</li>
</ul>

      
          </section>
        </div>
      </div>

				<div id="copyright">
					Web Design: <a href="http://templated.co">TEMPLATED</a> Images: <a href="http://unsplash.com">Unsplash</a> (<a href="http://unsplash.com/cc0">CC0</a>)
				</div>			


   </body>
</html>
