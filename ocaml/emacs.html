<html>
<HEAD>
<title>Using Emacs</title>
</HEAD>
<body LINK="#0000FF" VLINK="#800080" bgcolor="#F0FFF0">
<h1>Emacs</h1>
The <a href="http://www.gnu.org/software/emacs/">Emacs homepage</a>
has all the information on emacs.
<h2>Getting emacs</h2>
<dl>
  <dt><strong>Windows</strong>
  <dd>Precompiled binaries are found <a
      href="http://ftp.gnu.org/gnu/windows/emacs/">here</a>. <a href="http://www.gnu.org/software/emacs/windows/ntemacs.html">Here is a
      FAQ on Windows and emacs.</a>
  <dt><strong>Macintosh OS X</strong>
  <dd>OS X
      comes with emacs, but that version supports terminal use only
      and so you want a better version.  A prebuilt binary of full
      emacs is found <a
      href="http://www.apple.com/downloads/macosx/development_tools/emacsforosx.html">here</a>. 
  <dt><strong>Linux</strong>
  <dd>Linux comes with emacs installed already.
</dl>

<h2>Learning Emacs</h2>
If you are not familiar with emacs, <kbd>control-H t</kbd> is an
interactive tutorial to get you going.  <kbd>control-H i</kbd> gets
you into the emacs info system; middle-click on <kbd>Emacs</kbd> to
read the documentation about the editor. <a href="http://www.gnu.org/software/emacs/manual/">This
documentation is also available on a webpage</a>.  A good <a
href="http://jeremy.zawodny.com/emacs/">emacs tutorial
webpage</a> here.
<p>

<h2>Using emacs with OCaml</h2>
You will need the caml-mode addition to emacs to effectively edit ML
programs.  <p>
There are two things you need to set up in order to get caml mode
working
<ol>
  <li>You need to install the emacs caml mode files in a place where
      your version of emacs can find them;
  <li>You need to add a few lines to your .emacs preferences file to
      tell emacs to start up caml mode on ml files.
</ol>

<h3>Installing Emacs caml mode</h3>
There are several ways you can get this mode installed.
<ol>
  <li>If you are using any CS department UNIX machine, it should already
      be installed.
  <li>Many installs of ocaml on UNIX machines will ask you if you
      want to install the emacs mode somewhere during the ocaml
      install -- just say yes and you are all set.
  <li>If you downloaded the ocaml source distribution, cd to subdirectory <code>emacs</code> and <code>make install</code>.
  <li>If the three options above are not working, then we suggest you
      manually install your own copy of the caml mode.  
      <ol>
	<li>Pick a nice location LOC for the files.  The best
	    location is in the site-lisp/ directory of your emacs
	    installation (e.g. /usr/local/lib/emacs/site-lisp/), but
	    any location will work.
	<li>Unzip the files <a href="emacs-caml-mode.zip">here</a> into
	    LOC (put the .el files directly into LOC)
	<li>(optional) cd LOC and run the following command:  <pre>emacs --batch --eval '(progn (setq load-path (cons "." load-path)) (byte-compile-file "caml-xemacs.el") (byte-compile-file "caml-emacs.el") (byte-compile-file "caml.el") (byte-compile-file "inf-caml.el") (byte-compile-file "caml-help.el") (byte-compile-file "caml-types.el") (byte-compile-file "camldebug.el"))'
</pre> -- this will create .elc files which will be a touch more
	    efficient.  No big deal if you don't do it.
      </ol>
</ol>

<h3>Configuring Caml mode in your .emacs file</h3>
You need to include the following lines in your <KBD>.emacs</KBD>
file (if you don't have a <KBD>.emacs</KBD> file, make one in your
home directory with these
lines in it):

<PRE>
; If you used option 4 above and installed your own version of the
; files and not in the site-lisp/ directory, uncomment this line and
; replace LOC below with the directory you put the files in
; (setq load-path (cons "LOC" load-path))

(setq auto-mode-alist
          (cons '("\\.ml[iylp]?$" . caml-mode) auto-mode-alist))
(autoload 'caml-mode "caml" "Major mode for editing Caml code." t)
(autoload 'run-caml "inf-caml" "Run an inferior Caml process." t)

; for highlighting

(if window-system (require 'caml-font))
</PRE>
Note for Windows users: Windows doesn't always have a notion of "home"
directory; in that case you can put the .emacs file at C:/.  <a href="http://www.gnu.org/software/emacs/windows/faq3.html#startup">More detailed
information on the .emacs file location for Windows users</a>.

<h2>Using Caml Mode</h2>
In emacs, every file that ends in <kbd>.ml</kbd> will automatically
load caml-mode; there will be a <code>(caml)</code> in the status line
at the bottom indicating you are in caml mode. Also, you can execute the extended command
<KBD>caml-mode</KBD> (type meta-x <code>caml-mode</code>; meta-x is either holding
down the meta-key and pressing x, or ESC followed by x)) to start caml-mode in a
buffer.  To start a shell window running ocaml, use the extended
command <KBD>run-caml</KBD> (or do C-c C-s which will start a caml
shell if it is not already running). <p>


The caml-mode distribution includes no documentation but is easy to
use;  <kbd>control-h m</kbd> from within emacs gets you the caml mode
command list.  The main useful commands (C-c means control-C, etc) are
<pre>
C-c C-e		evaluate the phrase the cursor is sitting in the middle of
C-c C-r		evaluate the whole selected region
C-c C-s		show the shell window; will automatically run-caml if not running
C-c `		go to exact error location in the source</pre>
<p>
<!-- hhmts start -->
Last modified: Wed Feb 15 10:24:59 EST 2006
<!-- hhmts end -->
</BODY> </html>



