<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<title>dist_overlay/README.html</title>

</head>

<body>

<h1>FbDK</h1>

<p>This is a distribution of the Fb ("F-flat") development kit (FbDK).  The FbDK is
a tool for learning programming language theory through the development of
interpreters and type systems.  Your course instructor will indicate how the kit
is to be used for class.</p>

<p>Please see the <code>COPYING</code> file in this directory for licensing information.</p>

<h2>Prerequisites</h2>

<p>The FbDK has the following requirements:</p>

<ul>
<li>A working OCaml compiler</li>
<li>An installation of <code>ocamlbuild</code></li>
<li>An installation of the <code>menhir</code> libraries available through <code>ocamlfind</code></li>
</ul>

<p>Installing the compiler, <code>ocamlbuild</code>, and <code>menhir</code> through OPAM should be
sufficient.</p>

<h2>Building Interpreters</h2>

<p>To compile the interpreters, it is sufficient to run</p>

<pre><code># make
</code></pre>

<p>An individual interpreter may be compiled by naming it directly, e.g.</p>

<pre><code># make fb.byte
</code></pre>

<p>The above command compiles the basic Fb interpreter from the <code>src/Fb/fb.ml</code>
file.</p>

<h2>Using FbDK Code from the OCaml Toploop</h2>

<p>As you develop your interpreters, you may wish to interact with your code from
the OCaml toploop.  Some OCaml toploop scripts have been provided to assist you
with this.  The procedure is to</p>

<ol>
<li>Compile your sources using <code>make</code>.  If you do not compile your interpreter
 (or if it fails to compile), the OCaml toploop will not behave correctly.</li>
<li>Open the OCaml toploop.</li>
<li>Load the appropriate file from the <code>debugscript</code> directory, such as
 <code>#use "debugscript/fb.ml";;</code>.  Select the script that matches the
 interpreter you are using.</li>
</ol>

<p>If all goes well, the compiled OCaml objects will be loaded into your toploop
session and you will be able to use the types and functions defined in your
source code.  Good luck!</p>

<h1>Precompiled Interpreters</h1>

<p>To provide a basis of comparison, compiled versions of the completed
interpreters are provided in the <code>binaries/</code> directory.  You may run those
binaries like so:</p>

<pre><code># ocamlrun binaries/fb.byte
</code></pre>

<p>This will open the provided Fb interpreter.  The user may now enter code into the toploop, which will evaluate it:</p>

<p>```
$ ocamlrun binaries/fb.byte
    Fb version 1.3.0        (typechecker disabled)</p>

<h1>3 + 5;;</h1>

<p>==> 8</p>

<h1>(Function x -> x + 1) 5;;</h1>

<p>==> 6</p>

<h1>True Or False;;</h1>

<p>==> True
#
```</p>

<p>Pressing Ctrl+C will exit the toploop.</p>

<p>The interpreters may also be used to run files directly rather than through a
toploop.  The interpreter may take a filename as an argument:</p>

<p><code>
$ ocamlrun binaries/fb.byte one_plus_three.fb
4
$
</code></p>

<p>Any of the interpreters can provide more command-line usage information when passed the argument <code>--help</code>.</p>

</body>
</html>
